
.main-timeline-section{
position: relative;
width: 100%;
margin:auto;
height:300px;
}
.main-timeline-section .timeline-start,
.main-timeline-section .timeline-end{
position: absolute;
background:#000;
border-radius:100px;
top:50%;
transform: translateY(-50%);
width:30px;
height:30px;
}
.main-timeline-section .timeline-end{
right:0px;
}

.content-mobile-timeline{
margin-left: 16px;
margin-right: 16px;
}

.timeline-article{
width: 20%;
position: relative;
min-height: 300px;
float:left;
}
.timeline-article .content-date{
position: absolute;
top: 35%;
left: -30px;
font-size:18px;
}
.timeline-article .meta-date{
position: absolute;
top: 50%;
left: 0px;
transform: translateY(-50%);
width:24px;
height:24px;
border-radius: 100%;
background: var(--Pill-Secondary-Default, #896A5C);
z-index: 99;
}

.timeline-article-bottom .meta-date{
background: var(--Pill-Primary-Default, #C15425);
}

.timeline-article-top#date-july-1776 .meta-date{
background: var(--Pill-Tertiary-Default, #A55F41);
}


/* Make the dot square, just in case */
.meta-date{
  position: relative;
  width: 20px;
  height: 20px;
  border-radius: 50%;
}

/* The animated inner circle (non-interactive) */
.meta-date .dot-indicator{
  position: absolute;
  left: 50%;
  top: 50%;
  width: 60%;            /* inner size */
  height: 60%;
  border-radius: 50%;
  background: #FFCC00;
  transform: translate(-50%, -50%) scale(0.6);
  opacity: 0;
  pointer-events: none;
  /* SLOWER transition (adjust the 450ms to taste) */
  transition: transform 450ms ease, opacity 450ms ease;
}

/* When JS says the pointer is actually inside the circle */
.meta-date.dot-hover .dot-indicator{
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
}

/* Keep stems non-interactive so they don't trigger hover */
.meta-date::before,
.meta-date::after,
.timeline-article .content-box::before,
.timeline-article .content-box::after{
  pointer-events: none;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .meta-date .dot-indicator{ transition: none; }
}



.timeline-article .content-box{
box-shadow: 2px 2px 4px 0px #c1c1c1;
border-radius: 16px;
width: max-content;
position: absolute;
top: 60%;
left: -80px;
padding:8px;
}

.timeline-article-top .content-box:before{
content: '';
	 width: 46.64px;
	 left: 50%;
	 position: absolute;
	 border-left: 4px solid #000;
	 top: -35px;
}

.timeline-article-top .content-box-overlay:before{
content: '';
	 width: 46.64px;
	 position: absolute;
	 border-left: 4px solid #000;
   height: 20px;
 left: 68px;
    top: -20px;
}
.timeline-article-bottom .content-date{
top: 59%;
}
.timeline-article-bottom .content-box{
top: 0%;
}
.timeline-article-bottom .content-box:after{
 content: '';
	 width: 50px;
	 left: 50%;
	 position: absolute;
	 border-left: 4px solid #000;
}

.content-box p{
color: var(--True-White, #FFF);
/* Helena Pill Text */
font-family: "Source Sans 3";
font-size: 16px;
font-style: normal;
font-weight: 400;
line-height: 110%; /* 17.6px */
letter-spacing: 0.024px;
}

.timeline-article .content-box p:first-child{
color: var(--True-White, #FFF);
/* Helena Pill Title */
font-family: "Source Sans 3";
font-size: 16px;
font-style: normal;
font-weight: 700;
line-height: 110%; /* 17.6px */
letter-spacing: 0.024px;
}

.timeline-article.timeline-article-top .content-box{
border: none;
	background: none;
	box-shadow: none;
	width: max-content;
	text-align: left;
  border-radius: 8px;
background: var(--Pill-Secondary-Default, #896A5C);
box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.25);
}

/* Make the timeline row use flex instead of floats */
.conference-timeline-content{
  display:flex;
  justify-content:space-between;   /* even spread */
  align-items:flex-start;
  gap: 40px;                       /* optional explicit gap */
}

/* Each article becomes a flex item */
.timeline-article{
  position:relative;
  float:none;                      /* kill the float */
  width:auto;                      /* let flex size it */
  min-height:300px;
}

/* keep your existing absolute-positioned bits as-is */
/* Tell the row how many columns it has */
.conference-timeline-content{ --cols: 4; /* change to 5, 6, ... if needed */ }

/* Rail spans from the center of the first to the center of the last */
.main-timeline-section .conference-center-line{
  position:absolute;
  height:6px;
  background:#000;
}

/* how many columns/cards are on the row */
.conference-timeline-content{ --cols: 4; }

/* size of the dot (match your CSS) */
:root{
  --dot: 20px;           /* .meta-date width */
  --dot-b: 1px;          /* .meta-date border */
  --dot-center: calc((var(--dot) + 2*var(--dot-b)) / 2); /* 11px */
}


/* how many cards in the row + dot size (same as before) */
.conference-timeline-content{ --cols:4; }
:root{ --dot:20px; --dot-b:1px; --dot-center:calc((var(--dot)+2*var(--dot-b))/2); }

.main-timeline-section{
  --pad-x: 110px;                 
  position: relative;
  padding-left: 0!important;
  padding-right: 0!important;
  width: 100%!important;
  height: auto!important;
  max-width: 815px!important;
}

/* set these once (adjust to your setup) */
.conference-timeline-content { --cols: 4; }   /* number of cards in the row */
:root{
  --dot: 20px;          /* .meta-date width */
  --dot-b: 1px;         /* .meta-date border */
  --dot-center: calc((var(--dot) + 2*var(--dot-b)) / 2);   /* 11px */
}

/* side padding on the section so cards don’t hang out */
.main-timeline-section{
  position: relative;
  --pad-x: 110px;       /* tweak to taste */
  padding: 0 var(--pad-x);
}

/* Timeline Positions */
#date-1763 .content-box{
top: -57%;
left: -90px;
}
#date-1763.timeline-article-bottom .content-box:after{
    height: 200px;
    margin-left: -3px;
    top: 110px;
    left: 104px;
}

#date-1763{
left: -67px;
}

#date-1765 .meta-date{
	/* left: -150px; */
}
#date-1765{
	left: -40px;
}
#date-1765 .content-box{
	left: -50px;
}

#date-1765.timeline-article-top .content-box:before, #date-1770.timeline-article-top .content-box:before{
height: 25px;
    margin-left: -2px;
    left: 62px;
    top: -25px;
}

#date-1770{
	left: 25px;
}
#date-1770 .meta-date{
	left: 30px;
}
#date-1770 .content-box{
	left: -40px;
}
#date-1770 .content-box p{
	margin-left: 8px;
}
#date-1770.timeline-article-top .content-box:before{
	margin-left: -3px;
	    left: 83px;
}

#date-1773 .meta-date{
	left: 245px;
}
#date-1773{
	left: -110px;
}
#date-1773 .content-box{
	top: 98%; 
}
#date-1773 .content-box p{
	margin-top: -1px;
}

/* 1773: remove the old border-based connector pieces */
#date-1773.timeline-article-top .content-box::before,
#date-1773 .meta-date::before {
  content: none !important;
}

/* Make sure the box is a positioning context */
/* keep 1773 in the lower row */
#date-1773 .content-box {
  top: 98% !important;   /* + !important beats the generic .timeline-article-top rule */

}


/* Position + style the SVG connector */
#date-1773 .connector-1773 {
  position: absolute;
  pointer-events: none;
  overflow: visible;
  top: -136px;
    left: -70px;
    width: 295px;
    height: 136px;
}

#date-1773 .connector-1773 path {
  stroke: #000;
  stroke-width: 3.5;
  fill: none;
}





#date-1774{
	left: -115px;
}
#date-1774 .content-box p{
	margin-top: -1px;
}
#date-1774 .meta-date{
	left: 180px;
}

#date-1774 .content-box{
	top: 98%;
	    left: -25px;
}
#date-1774.timeline-article-top .content-box::before{
  content:none;
}
#date-1774 .meta-date:before{
	content: none;

}

/* Position + style the SVG connector */
#date-1774 .connector-1774 {
  position: absolute;
  pointer-events: none;
  overflow: visible;
  top: -136px;
    left: -70px;
    width: 295px;
    height: 136px;
}

#date-1774 .connector-1774 path {
  stroke: #000;
  stroke-width: 3.5;
  fill: none;
}



#date-1774-1776 .meta-date{
	left: 220px;
	background-color: transparent;
	border: none;
}
#date-1774-1776 .meta-date:before{
content: none;
}

#date-1774-1776.timeline-article-bottom .content-box:after{
  content: none;
}
#date-1774-1776 .content-box{
	/* top: 5%; */
}
#date-1774-1776{
	    left: -120px;
}

#date-1774-1776 .connector-1774-1776 {
position: absolute;
    pointer-events: none;
    overflow: visible;
    top: 70px;
    left: 0px;
    width: 285px;
    height: 110px;
}

#date-1774-1776 .connector-1774-1776 path {
  stroke: #000;
  stroke-width: 3.5;
  fill: none;
}


#date-1775{
	    left: 25px;
}

#date-1775 .content-box{
	top: 98%;
	left: -15px;
}
#date-1775 .content-box p{
	    position: relative;
}
#date-1775 .meta-date{
	left: 45px;
}
#date-1775.timeline-article-top .content-box:before {
     height: 136.74px;
       left: 70.5px;
    top: -136.5px;
}

/* Start june 17 */
#date-june-1775{
	left: -250px;
}
#date-june-1775 .content-box{
	top: -57%;
    left: -45px;
}
#date-june-1775 .meta-date{
	left: 310px;
}

#date-june-1775.timeline-article-bottom .content-box:after{
content: none;
}
#date-june-1775 .meta-date:before{
	content: none;
}

#date-june-1775 .connector-june-1775 {
position: absolute;
    pointer-events: none;
    overflow: visible;
      top: -64px;
    left: 105px;
    width: 285px;
    height: 110px;
}

#date-june-1775 .connector-june-1775 path {
  stroke: #000;
  stroke-width: 3.5;
  fill: none;
}
/* End junes 17 */


#date-june-17-1775{
    left: 50px;
}
#date-june-17-1775 .content-box{
    left: -48px;
    top: 67%;
}
#date-june-17-1775 .meta-date:before{
	content: '';
	 width: 50px;
	 left: 50%;
	 position: absolute;
	 border-left: 4px solid #000;
	 top: 24px;
	 height: 40px;
	 margin-left: -2px;
}

#date-nov-1775{
	left: -90px;
}
#date-nov-1775 .meta-date{
	left: 120px;
}
#date-nov-1775.timeline-article-bottom .content-box:after
 {
height: 66px;
    left: 210px;
    bottom: -82px;
}

/* june-1776 */
#date-june-1776{
	left: -90px;
}
#date-june-1776 .content-box{
	top: -57%;
	left: 0;
}

#date-june-1776 .meta-date{
    left: 120px;
}

/* Article is the positioning context */
#date-june-1776 {
  position: relative;
}

/* Card sits above the connector so no black line shows inside it */


/* SVG connector under the card */
#date-june-1776 .connector-june-1776 {
  position: absolute;
  pointer-events: none;
  overflow: visible;

  top: -56px;
  left: 235px; 

  transform: translateY(-2px); 
  width: 220px;    
  height: 140px; 
  z-index: 1;   
}

#date-june-1776 .connector-june-1776 path {
  stroke: #000;
  stroke-width: 3.5;
  fill: none;
}


/* End june-1776 */


#date-july-1776{
	left: -82px;
}
#date-july-1776 .meta-date{
	    left: 98px;
}
#date-july-1776 .content-box{
	top: 60%;
         left: 40px;
    width: 220px;
}
#date-july-1776 .content-box p{
	position: relative;
}

#date-july-1776-overlay.content-box-overlay{
  border-radius: 8px;
background: var(--Pill-Tertiary-Default, #A55F41);
box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.25);
}

#date-july-1776.timeline-article-top .content-box.overlayed:before {
 height: 20px;
    top: -20px;
    left: 68px;
}




/* keeps the element centered inside whatever parent width you already use */
.tl-scale{
  position: relative;
  width: 100%;
  margin: 0 auto;
  overflow: visible; 
  /* width: 1099px; */
  height: 700px;
  max-width: 1250px!important;
  max-height: 700px!important;
}

/* the inner element will be scaled; this makes scaling anchor cleanly */
.tl-scale > .main-timeline-section{
  transform-origin: top center; /* stay centered while scaling */
  will-change: transform;
  top: 105px;
}



.tl-scale{
  width: 100%;
  margin-inline: auto;

  /* center the scaled timeline without absolute positioning */
  display: grid;
  justify-items: center;

  position: relative;
  overflow: visible;
}

/* the timeline section itself stays relative; */
.tl-scale > .main-timeline-section{
  position: relative;           
  transform-origin: top center;
  will-change: transform;
}

/* (set from JS) */
.tl-scale .conference-center-line{
  top: var(--rail-y, 50%);
  transform: translateY(-50%);
   width: 910.92px;
    right: -30px !important;
}

@media (max-width: 1200px){
  .tl-scale{
	display: none;
   }
}

/* //Freeze content-box */


.content-box-overlay .row{ height:100%; }

/* right column becomes the clipping mask */
.content-box-overlay .row.g-3.align-items-center{
  align-self: stretch;               /* fill overlay height */
  padding-right: 0;                  /* image flush to rounded edge */
  overflow: hidden;                  /* clip image */

}

/* make the image fill and crop */
.content-box-overlay .col-12.col-lg-3 img{
  display:block;
  width:100%;
  height:100%;
  object-fit:cover;                 
}

.content-box{ overflow: visible;
  transition:
    background-color 0.15s ease-in-out;
}

.content-box-overlay{
  border-radius: 8px;
    transition:
    background-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}


/* Overlay hover state driven from JS */
.content-box-overlay.overlay-hover {
  background-color: #7C3618;  /* example highlight */
}

.content-box-overlay.overlay-hover#date-july-1776-overlay{
  background-color: #693D2A;
}


/* For articles with ONLY .content-box (no overlay) */
.timeline-article .content-box.box-hover {
  background-color: #59443B;
}



/* basic image styling inside the overlay */
.content-box-overlay img{
  display:block;
  width:100%;
  height:auto;
}


.content-box{ position: relative; }      
.content-box-overlay{
  position: absolute;
  inset: 0;               
  z-index: 5;
  color:#fff;
  padding:0px;
  box-sizing: border-box;
  border-radius: 8px;
background: #C15425;
box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.25);

}
/* Hide original visuals;  */
.content-box.overlayed{
  background: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
}

/* Hide the original text so it doesn't show under the overlay */
.content-box.overlayed > *{
  color: transparent!important;
}

.content-box.overlayed::before{
  content: none !important;
}

.content-box-overlay div{
	/* margin: auto; */
}

/* hard reset just this overlay */
#date-1763-overlay{
  left: -32px;
  width: 288.96px;
  height: 110.33px;
}
.overlay-text{
      padding: 8px;
}
#date-1763-overlay > div > div.col-12.col-lg-8.overlay-text{
	margin-top: -8px;
}

#date-1774-1776-overlay{
     height: 110.33px;
    width: 296.42px;
    top: -25px;
    left: -95px;

}

#date-june-1776-overlay{
    height: 112.58px !important;
    width: 392.32px;
}

#date-june-1775-overlay{
    height: 112.58px !important;
width: 435.32px;
left: -64px;
}

#date-june-1776-overlay{
	left: -43px;
}


#date-nov-1775-overlay{
    top: -25px;
    width: 380.54px;
    height: 110.33px;
    left: -95px;
}

#date-july-1776-overlay{
      width: 229px;
      height: 112.58px;;
}
#date-june-1775-overlay > div > div.col-12.col-lg-8.overlay-text{
 /* margin-top: -18px; */
}

#date-nov-1775-overlay > div > div.col-12.col-lg-8.overlay-text{
/* margin-top: -32px; */
}

#date-1774-1776-overlay > div > div.col-12.col-lg-8.overlay-text{
	/* margin-bottom: 18px; */
}




/* Modals */
/* Backdrop */
.tm-backdrop{
  position: fixed; inset: 0; z-index: 9999;
  background: rgba(0,0,0,.35);
  display: grid; place-items: center;
}

/* Panel */
.tm-modal{
  background: #F2EDE6; 
  color:#111;
  width: min(1000px, 94vw);
  max-height: 90vh;
  box-shadow: 0 10px 40px rgba(0,0,0,.35);
  overflow: auto;
  padding: 16px;
  position: relative;
  margin: auto!important;
  overflow: hidden;
  grid-column: 2;
  justify-self: center;                     
  align-self: start;                         
  width: 100%;
}

/* Close button */
.tm-close {
  position: absolute;
  top: 0;
  right: 0;
  width: 40px;
  height: 40px;
  border: 0;
  background-color: transparent;
  font-size: 34px;
  line-height: 1;
  cursor: pointer;
  padding-top: 0;
  z-index: 77;

  /* smooth hover */
  transition: background-color 0.15s ease-in-out;
}

/* icon inside (svg or img – keep whichever you actually use) */
.tm-close img,
.tm-close svg {
  position: relative;
  right: 0;
  bottom: 2px;
  display: block;
}

/* hover / keyboard focus */
.tm-close:hover,
.tm-close:focus-visible {
  background-color: rgba(0, 0, 0, 0.1); /* #000 at 10% opacity */
}



h3#tm-title{
	margin-top: 0!important;
  font-family: "Hiragino Kaku Gothic Pro W6";
   font-weight: 600;
    font-size:24px;
    line-height: 110%;
    letter-spacing: .24px;
    margin-bottom: 0;
      position: relative;
    top: -4px;
}


.tm-modal:has(.tm-grid) #tm-title {
  color: #7C3618;
}

.tm-modal:has(.tm--no-media) #tm-title {
  color: #59443B;
}

/* Two-column grid (image left, text right) */
.tm-grid{
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 28px;
}
@media (max-width: 900px){
  .tm-grid{ grid-template-columns: 1fr; }
}

/* Media */
.tm-media img{
  display:block; width: 70%; height: auto;
}
.tm-caption{
  margin-top: 8px; font-size: 14px; line-height: 1.35; color:#333;
}

/* Copy */
.tm-sub{
   font-size: 24px;
   color: #000;
    margin: 8px 0 16px; 
    font-family: "Source Sans 3";
    font-weight: 400;
    line-height: 22px;
    letter-spacing: .024px;
  }

.tm-body{
      font-size: 20px;
   color: #000;
    margin: 8px 0 0px; 
    font-family: "Source Sans 3";
    font-weight: 400;
    line-height: 22px;
    letter-spacing: .024px;
}


.tm-body p{ margin: 0 0 0px; }

:root{
  --side-nav: 215px;  
}

/* Backdrop becomes a 2-column grid: */
.tm-backdrop{
  position: fixed;
  inset: 0;
  z-index: 9999;               
  background: rgba(0,0,0,.25); 
  display: grid;
  grid-template-columns: var(--side-nav) 1fr;
}

/* Place the modal in the second column and center it there */
@media (max-width: 992px){
  .tm-backdrop{
    grid-template-columns: 0 1fr;            
  }
  .tm-modal{
    max-width: min(1100px, calc(100vw - 32px));
    margin: 16px;
  }
}

/* Tighter modal width */
.tm-modal{
  max-width: 800px;                 
}

/* Make the two columns hug each other */
.tm-grid{
  display:grid;
  grid-template-columns: minmax(260px, 36%) 1fr; 
  column-gap: 24px;                              
  row-gap: 16px;
}

/* Reset margins/padding that create extra white space */
.tm-media { margin: 0; }
.tm-media .fancy-img{ 
  width: 100%;         
  max-width: none;
  margin: 0; 
  border: 1px solid #000           
}
.tm-media img{
  display:block;
  width:100%;
  height:auto;
}

.tm-inline-media.fancy-img{
    max-width: 220px!important;
    margin-bottom: 0px!important;
    position: relative;
    float: right;
    margin-top: 50px;
}

/* Caption stays under the image, not adding extra side gap */
.tm-caption{
  margin-top: 8px;
  font-size: .95rem;
  line-height: 1.35;
}


.tm-grid{
  display: grid;
  grid-template-columns: minmax(260px, 38%) 1fr;
  gap: 24px;
  align-items: start;
}

/* no image: make it one column and hide media area */
.tm-grid.tm--no-media{
  grid-template-columns: 1fr;
}
.tm-grid.tm--no-media .tm-media{
  display: none;
}
.tm-grid.tm--no-media .tm-copy{
  grid-column: 1 / -1; /* ensure text spans full width */
}

/* Expand styles */
/* Only the modal's images */
#tm-backdrop .tm-media .fancy-img a[data-fancybox] {
  position: relative;         
  display: block;
  line-height: 0;
}

#tm-backdrop .tm-media .fancy-img a[data-fancybox] > .slider-icons {
  position: absolute !important;
  right: 0 !important;
  bottom: 0 !important;
  left: auto !important;
  top: auto !important;        
  margin: 0;
  padding: 0;
  line-height: 0;
  z-index: 10;
}

/* Remove the baked-in top padding/spacing in the timeline */
.main-timeline-section,
.main-timeline-section .conference-timeline-content {
  padding-top: 0 !important;
}

.tl-scale { 
  margin-top: -94px;   
      padding-top: 16px;
    padding-bottom: 16px;
}


.timeline-article .content-box .row.g-3.align-items-center {
  height: 100%;
}

.timeline-article .content-box .row.g-3.align-items-center
  > .col-12.col-lg-4,
.timeline-article .content-box .row.g-3.align-items-center
  > .col-12.col-lg-3 {
  display: flex;          /* let the img stretch vertically */
  overflow: hidden;       /* clip any overflow inside the card */
}

.timeline-article .content-box .row.g-3.align-items-center
  > .col-12.col-lg-4 img,
.timeline-article .content-box .row.g-3.align-items-center
  > .col-12.col-lg-3 img {
  display: block;
  width: 100%;
  object-fit: cover;              
  border-top-right-radius: 8px; 
  border-bottom-right-radius: 8px;
  height: 112.58px;
}

.content-box-overlay .col-12.col-lg-3.d-flex.justify-content-end,
.content-box-overlay .col-12.col-lg-4.d-flex.justify-content-end {
  overflow: hidden;              
  border-radius: 0 8px 8px 0;    
}

/* Image itself fills that column */
.content-box-overlay .col-12.col-lg-3.d-flex.justify-content-end img,
.content-box-overlay .col-12.col-lg-4.d-flex.justify-content-end img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;            
}

.compensate-for-scrollbar{
  margin-right: 0!important;
}

/* Kill hover + pointer on the 1774–1776 dot */
#date-1774-1776 .meta-date {
  pointer-events: none;   /* no mouse events */
  cursor: default;        /* no pointer cursor */
}

/* Timeline hidden by default */
.tl-scale {
  opacity: 0;
  visibility: hidden;
}

/* When JS is done building overlays */
.tl-scale.timeline-ready {
  opacity: 1;
  visibility: visible;
  transition: opacity 150ms ease-out;
}


